"0",""
"0","# Check for duplicates without the price ####"
"0","duplicated(EPA[c('ProductType','Price')])"
"1"," [1]"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1","
"
"1","[14]"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1","  TRUE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1","
"
"1","[27]"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1","
"
"1","[40]"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1","
"
"1","[53]"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1","
"
"1","[66]"
"1","  TRUE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1","  TRUE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1"," FALSE"
"1","
"
"0","# There are duplicated values with different prices"
"0","# The duplicated values will be merged into one single value and the price will be the mean of the duplicated values"
"0","# Keep one of the duplicated observations (the first one, for example)"
"0","duplicatedproductsvalues <- EPA[duplicated(EPA[,-c(2,3)]),][1,]"
"0","# Calculate the mean of the price of the duplicated observations"
"0","mean_duplicated <- mean(EPA$Price[duplicated(EPA[-c(2,3)])])"
"0","# Remove the duplicated observations"
"0","EPA <- EPA[!duplicated(EPA[-c(2,3)]),]"
"0","# Add one of the duplicated observations (the first one that had been saved previously)"
"0","EPA <- rbind(EPA,duplicatedproductsvalues)"
"0","# Change the price to the mean of the price of the duplicated values"
"0","EPA[nrow(EPA),'Price'] <- mean_duplicated"
"0",""
"0","# Check for rows with missing reviews ####"
"0","nrow(EPA[which(EPA$x4StarReviews==0 & EPA$x3StarReviews == 0 & EPA$x2StarReviews == 0 & EPA$x1StarReviews == 0),])"
"1","[1]"
"1"," 3"
"1","
"
"0","# There are 3 rows with missing x4,x3,x2,x1 reviews that will be removed"
"0","EPA <- EPA[-which(EPA$x4StarReviews==0 & EPA$x3StarReviews == 0 & EPA$x2StarReviews == 0 & EPA$x1StarReviews == 0),]"
