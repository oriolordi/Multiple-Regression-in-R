"0","# Predict for the new products ####"
"0","# Retrain and retest the model using the best features and algorithm"
"0","model <- train(Volume ~ x4StarReviews + TotalServiceReviews, data = training, method = 'rf', trControl = ctrl, preProcess = c('center','scale'), tuneLength=20)"
"1","note: only"
"1"," "
"1","1"
"1"," "
"1","unique complexity parameters in default grid."
"1"," "
"1","Truncating the grid to"
"1"," "
"1","1"
"1"," "
"1",".

"
"0","#model"
"0","pred <- predict(model, newdata = testing)"
"0","pred_metric <- postResample(testing$Volume, pred)"
"0","#pred_metric"
"0","error <- data.frame(pred - testing$Volume)"
"0","colnames(error) <- c(""err"")"
"0","#ggplot(error, aes(err)) + "
"0","#  geom_histogram(bins=20)"
"0","# Make predictions for the new attributes"
"0","NPA_undummy <- NPA"
"0","newDataFrame <- dummyVars("" ~ ."", data = NPA)"
"0","NPA <- data.frame(predict(newDataFrame, newdata = NPA))"
"0","NPA <- subset(NPA, select=c(ncol(NPA),1:(ncol(NPA)-1)))"
"0","NPA$TotalServiceReviews <- NPA$PositiveServiceReview + NPA$NegativeServiceReview"
"0","NPA$BestSellersRank <- NULL"
"0","predictionsnew <- predict(model,NPA)"
"0","predictionsnew"
"1","         1 "
"1","         2 "
"1","         3 "
"1","         4 "
"1","         5 "
"1","         6 "
"1","         7 "
"1","
"
"1"," 398.72013 "
"1"," 107.57693 "
"1"," 221.81093 "
"1","  49.30600 "
"1","  11.15669 "
"1","  84.01366 "
"1","1335.03973 "
"1","
"
"1","         8 "
"1","         9 "
"1","        10 "
"1","        11 "
"1","        12 "
"1","        13 "
"1","        14 "
"1","
"
"1"," 440.63533 "
"1","  37.44600 "
"1","1335.29293 "
"1","1577.51187 "
"1"," 406.00307 "
"1"," 557.55307 "
"1","  67.97040 "
"1","
"
"1","        15 "
"1","        16 "
"1","        17 "
"1","        18 "
"1","        19 "
"1","        20 "
"1","        21 "
"1","
"
"1"," 171.61213 "
"1","1338.61213 "
"1","  20.01013 "
"1","  21.21737 "
"1","  49.30600 "
"1"," 132.05147 "
"1","  84.01366 "
"1","
"
"1","        22 "
"1","        23 "
"1","        24 "
"1","
"
"1","  13.14882 "
"1","  20.40027 "
"1","1619.01667 "
"1","
"
"0","NPA$Volume <- predictionsnew"
